<!DOCTYPE html>
<html>
<head>

<meta name="viewport" content="width=624">

<title>MathQuill-basic Demo</title>

<link rel="stylesheet" type="text/css" href="support/home.css">
<link rel="stylesheet" type="text/css" href="../build/mathquill.css">

</head>
<body>
<div id="body">

<a href="http://github.com/laughinghan/mathquill"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub!"></a>

<h1><a href="http://mathquill.github.com">MathQuill</a>-basic Demo <small>local test page</small></h1>

<p>Backslash <code>\</code> and dollar <code>$</code> aren't special, <code>/</code> still works, font works:

<p><span id="scientific">1.0x10^5</span><span id="units">\operatorname{kg}</span>

<h3>TODO</h3>
<ul>
    <li><code>1\cdot10^5</code> (or whatever instead of cdot) vs <code>1x10^5</code></li>
    <li>may need an enter handler to submit</li>
    <li>restrict the expressions users can enter on both sides</li>
    <li>make movement between inputs more intelligent. when moving right from the left textarea you can currently enter the left side of the right textarea, which is weird because you basically stayed in the same spot, or a different random area which is weird because you jumped</li>
</ul>

<h3>Value:</h3>
<p id="basic-latex"></p>

</div>
<script type="text/javascript" src="support/jquery-1.7.2.js"></script>
<script type="text/javascript" src="../build/mathquill-basic.js"></script>
<script type="text/javascript">
var units = document.getElementById("units");
var scientific = document.getElementById("scientific");
var units_, scientific_;

function handleEnter() {
  $("#basic-latex").text(scientific_.latex() + " " + units_.latex());
};

units_ = MathQuill.MathField(units, {
  autoOperatorNames: "kg km m mm C c yr wk d hr min s J K W N lb Pa bar atm mmHg L rad rev deg mol V",
  handlers: {
    reflow: function(mq) {
      $('#basic-latex').val(mq.latex());
    },
    moveOutOf: function(dir, math) {
        if (dir === MathQuill.L) {
          scientific_.focus();
        }
    },
    enter: handleEnter,
  }
});

scientific_ = MathQuill.MathField(scientific, {
  autoOperatorNames: "x",
  handlers: {
    moveOutOf: function(dir, math) {
        if (dir === MathQuill.R) {
          units_.focus();
        }
    },
    enter: handleEnter,
  }
});
</script>
</body>
</html>
